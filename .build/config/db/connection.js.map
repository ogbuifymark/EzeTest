{"version":3,"sources":["../../../src/config/db/connection.js"],"names":["config","Environment","DBInstance","dbConectionString","DB_URL","DBConection","constructor","mongoose","connect","useNewUrlParser","errorHandler","db","connection","on","console","error","bind","once","info"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEA,MAAMA,MAAM,GAAGC,sBAAYD,MAA3B;AACA,IAAIE,UAAU,GAAG,EAAjB;AACA,MAAMC,iBAAiB,GAAGH,MAAM,CAACI,MAAjC;;AACA,MAAMC,WAAN,CAAkB;AAChBC,EAAAA,WAAW,GAAI;AACb,QAAI,CAACJ,UAAL,EAAiB;AACfK,wBAASC,OAAT,CAAiBL,iBAAjB,EAAoC;AAAEM,QAAAA,eAAe,EAAE;AAAnB,OAApC;;AACAP,MAAAA,UAAU,GAAG,YAAb;AACD;AACF;;AAEDQ,EAAAA,YAAY,GAAI;AACd,UAAMC,EAAE,GAAGJ,kBAASK,UAApB;AACAD,IAAAA,EAAE,CAACE,EAAH,CAAM,OAAN,EAAeC,OAAO,CAACC,KAAR,CAAcC,IAAd,CAAmBF,OAAnB,EAA4B,mBAA5B,CAAf;AACAH,IAAAA,EAAE,CAACM,IAAH,CAAQ,MAAR,EAAgB,YAAY;AAC1BH,MAAAA,OAAO,CAACI,IAAR,CAAc,GAAEf,iBAAkB,gCAAlC;AACD,KAFD;AAGD;;AAde;;eAiBHE,W","sourcesContent":["import Environment from '../environments';\nimport mongoose from 'mongoose';\n\nconst config = Environment.config;\nvar DBInstance = '';\nconst dbConectionString = config.DB_URL;\nclass DBConection {\n  constructor () {\n    if (!DBInstance) {\n      mongoose.connect(dbConectionString, { useNewUrlParser: true });\n      DBInstance = 'DBInstance';\n    }\n  }\n\n  errorHandler () {\n    const db = mongoose.connection;\n    db.on('error', console.error.bind(console, 'connection error:'));\n    db.once('open', function () {\n      console.info(`${dbConectionString} DB is Connected with this App`);\n    });\n  }\n}\n\nexport default DBConection;\n"],"file":"connection.js"}